@using System.Security.Claims;
@{
    var nlSubscribed = User.FindFirstValue("NewsletterSubscribed") == "True";
}

<div class="row">
    <div class="col-md-9 col-sm-12">
        <partial name="~/Views/Partials/Catalog/_Categories.cshtml" />
    </div>
    <div class="col-md-3">
        @if (!User.Identity.IsAuthenticated)
        {
            <partial name="~/Views/Partials/Home/_SignIn.cshtml" />
        }
        else
        {
            <partial name="~/Views/Partials/Home/_SignInInfo.cshtml" />
        }
        
        <partial name="~/Views/Partials/Order/_MiniCart.cshtml" />
        
        @if (!nlSubscribed)
        {
            <partial name="~/Views/Partials/Newsletter/_Newsletter.cshtml" />
        }
    </div>
</div>
<h2 class="mt-5">Other Services</h2>
<p class="lead">The project also has these other services:</p>
<div class="row my-3">
    <div class="col-md-4">
        <partial name="~/Views/Partials/Notification/_EmailNotificationInfo.cshtml" />
    </div>
    <div class="col-md-4">
        <partial name="~/Views/Partials/Recommendation/_RecommendationInfo.cshtml" />
    </div>
    <div class="col-md-4">
        <partial name="~/Views/Partials/Notification/_SMSNotificationInfo.cshtml" />
    </div>
</div>

